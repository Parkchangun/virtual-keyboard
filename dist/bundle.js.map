{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://virtual-keyboard/./src/js/keyboard.ts","webpack://virtual-keyboard/webpack/bootstrap","webpack://virtual-keyboard/webpack/runtime/make namespace object","webpack://virtual-keyboard/./src/js/index.ts"],"sourcesContent":["export class Keyboard {\n  private switchEl;\n  private fontSelectEl;\n  private containerEl;\n  private keyboardEl;\n  private inputGroupEl;\n  private inputEl;\n  private keyPress = false;\n  private mouseDown = false;\n\n  constructor() {\n    this.assignElement();\n    this.addEvent();\n  }\n\n  private assignElement() {\n    this.containerEl = document.getElementById(\"container\");\n    this.switchEl = this.containerEl.querySelector(\"#switch\");\n    this.fontSelectEl = this.containerEl.querySelector(\"#font\");\n    this.keyboardEl = this.containerEl.querySelector(\"#keyboard\");\n    this.inputGroupEl = this.containerEl.querySelector(\"#input-group\");\n    this.inputEl = this.inputGroupEl.querySelector(\"#input\");\n  }\n\n  private addEvent() {\n    this.switchEl.addEventListener(\"change\", this.onChangeTheme);\n    this.fontSelectEl.addEventListener(\"change\", this.onChangeFont);\n    document.addEventListener(\"keydown\", this.onKeyDown.bind(this));\n    document.addEventListener(\"keyup\", this.onKeyUp.bind(this));\n    this.inputEl.addEventListener(\"input\", this.onInput);\n    this.keyboardEl.addEventListener(\"mousedown\", this.onMouseDown.bind(this));\n    document.addEventListener(\"mouseup\", this.onMouseUp.bind(this));\n  }\n\n  private onChangeTheme(event) {\n    document.documentElement.setAttribute(\n      \"theme\",\n      event.target.checked ? \"dark-mode\" : \"\"\n    );\n  }\n\n  private onChangeFont(event) {\n    document.body.style.fontFamily = event.target.value;\n  }\n\n  private onInput(event) {\n    event.target.value = event.target.value.replace(/[ㄱ-ㅎ|ㅏ-ㅣ|가-힣]/, \"\");\n  }\n\n  private onKeyDown(event) {\n    if (this.mouseDown) return;\n\n    this.keyPress = true;\n    if (this.inputEl === document.activeElement) {\n      this.inputGroupEl.classList.toggle(\n        \"error\",\n        /[ㄱ-ㅎ|ㅏ-ㅣ|가-힣]/.test(event.key)\n      );\n    }\n    this.keyboardEl\n      .querySelector(`[data-code=${event.code}]`)\n      ?.classList.add(\"active\");\n  }\n\n  private onKeyUp(event) {\n    if (this.mouseDown) return;\n\n    this.keyPress = false;\n    this.keyboardEl\n      .querySelector(`[data-code=${event.code}]`)\n      ?.classList.remove(\"active\");\n  }\n\n  private onMouseDown(event) {\n    if (this.keyPress) return;\n\n    this.mouseDown = true;\n    event.target.closest(\"div.key\")?.classList.add(\"active\");\n  }\n\n  private onMouseUp(event) {\n    if (this.keyPress) return;\n\n    this.mouseDown = false;\n    const keyEl = event.target.closest(\"div.key\");\n    const isActive = !!keyEl?.classList.contains(\"active\");\n    const val = keyEl?.dataset.val;\n\n    if (isActive && !!val && val !== \"Space\" && val !== \"Backspace\") {\n      this.inputEl.value += val;\n    } else if (isActive && val === \"Space\") {\n      this.inputEl.value += \" \";\n    } else if (isActive && val === \"Backspace\") {\n      this.inputEl.value = this.inputEl.value.slice(0, -1);\n    }\n\n    this.keyboardEl.querySelector(\".active\")?.classList.remove(\"active\");\n  }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import \"../css/style.css\";\nimport { Keyboard } from \"./keyboard\";\n\nconst key = new Keyboard();\n"],"names":["keyPress","mouseDown","this","assignElement","addEvent","containerEl","document","getElementById","switchEl","querySelector","fontSelectEl","keyboardEl","inputGroupEl","inputEl","addEventListener","onChangeTheme","onChangeFont","onKeyDown","bind","onKeyUp","onInput","onMouseDown","onMouseUp","event","documentElement","setAttribute","target","checked","body","style","fontFamily","value","replace","activeElement","classList","toggle","test","key","code","add","remove","closest","keyEl","isActive","contains","val","dataset","slice","Keyboard","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","r","Symbol","toStringTag","Object","defineProperty"],"sourceRoot":""}